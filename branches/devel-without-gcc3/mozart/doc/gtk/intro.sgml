<!--
  - Authors:
  -   Thorsten Brunklaus  <brunklaus@ps.uni-sb.de>
  -   Leif Kornstaedt <kornstae@ps.uni-sb.de>
  -
  - Copyright:
  -   Thorsten Brunklaus, 2001
  -   Leif Kornstaedt, 2001
  -
  - Last change:
  -   $Date$ by $Author$
  -   $Revision$
  -
  - This file is part of Mozart, an implementation of Oz 3:
  -   http://www.mozart-oz.org
  -
  - See the file "LICENSE" or
  -   http://www.mozart-oz.org/LICENSE.html
  - for information on usage and redistribution
  - of this file, and for a DISCLAIMER OF ALL
  - WARRANTIES.
  -
  -->

<Chapter id="chapter.intro">
  <Title/Introduction/
  <P>
    This manual describes the GTK+ language binding for Oz.
  <Para class=apropos><Title/Comparison to Tk/
    You may be wondering how GTK+ compares to Tk, for which a binding for Oz
    has been available for a long time.  The reasons to provide another library
    for Graphical User Interfaces (GUIs) are as follows:
    <List>
      <Item>We wanted to provide a more modern widget set.
      <Item>The Tcl/Tk binding uses an external process and inter-process
	communication to do the actual work.  In contrast, the GTK+ widgets
	run in the Mozart process itself.  It should therefore provide
	better performance.
    </List>
    Note that GTK+ should be available for all platforms supported by Mozart.
  <Section>
    <Title/Software Used/
    <Para class=apropos><Title/GTK+/
      GTK+ is a widget set for building graphical user interfaces.  It
      provides windows, buttons, text editing widgets, and many more.
      Its official web site is at <Ref.Extern to="http://www.gtk.org/"
      ><File>http://www.gtk.org/</File></Ref.Extern>.  The binding makes
      use of Version 1.2 (Unix) or 1.3 (Windows).
    <Para class=apropos><Title/GDK/
      GTK+ builds on a GDK, which provides low-level windowing functions,
      abstracting from the actual windowing environment used (X Window
      System or Microsoft Windows).
    <Para class=apropos><Title/GTK+ Canvas/
      The GTK+ Canvas used here is a patched version of the Gnome Canvas
      ripped out of the Gnome sources.
    <Para class=apropos><Title/GLib/
      GLib is a library of data types and utilities used by the other
      components.  Only the support functions required to use GTK+ and GDK
      are available through the binding.
  <Section>
    <Title/Example/
    <P>
      Let's look at a <Q/hello world/ type application using the
      GTK+ binding, to get a feeling of how this could look like.
<<<functor
import
   Application(exit)
   System(show)
   GTK
define
   %% Define Toplevel window class
   class MyToplevel from GTK.window
      meth new()
	 GTK.window, new(GTK.'WINDOW_TOPLEVEL')
	 GTK.window, setBorderWidth(10)
	 GTK.window, setTitle("Hello, World!")
	 {self signalConnect('delete-event'
			     deleteEvent _)}
      end
      meth deleteEvent(Args)
         %% Do cleanup stuff here
	 {System.show 'deleteEvent occured'}
	 {Application.exit 0}
      end
   end
   %% Define HelloButton class
   class HelloButton from GTK.button
      meth new()
	 GTK.button, newWithLabel("Hello, World!")
	 GTK.button, signalConnect('clicked'
				   clickedEvent _)
      end
      meth clickedEvent(Args)
	 {System.show 'ClickedEvent occured'}
      end
   end
   %% Create Class Instances
   Toplevel = {New MyToplevel new()}
   Button   = {New HelloButton new()}
   %% Make Butten child of Toplevel Container
   {Toplevel add(Button)}
   %% Make it all visible
   {Toplevel showAll()}
end>>>
    <P>
      If you are familiar with GUI programming, you will recognize a few
      things suchs as creating windows, adding children to them, and making
      them react to user input.
    <Para class=apropos><Title/More Examples/
      A number of examples can be found in the <File>examples/gtk</File>
      directory in Mozart's installation folder.
  <Section>
    <Title/Structure of the Manual/
    <P>
      We will first summarize the basics of the GTK+ user interface model
      in <Ptr to="chapter.basics">.  Next we'll explain how to access the
      actual API from Oz in <Ptr to="chapter.mapping"> and give a reference
      of the additional procedures provided by the binding in <Ptr
      to="chapter.reference">.  Finally, an abstraction is introduced
      in <Ptr to="chapter.builder"> that allows for declarative specification
      of user interfaces and obviates the need to know many of the fine
      details of the GTK+ API.
  <Section proglang=sh>
    <Title/Building from Sources/
    <P>
      The GTK+ language binding is part of the Mozart source tree.
      To compile it, use the following options to configure:
      <<<configure --enable-contrib-gtk --with-gtk-canvas-dir=?{DIR}>>>
      where ?{DIR} is the directory in which the GTK Canvas has been
      installed.
    <Para class=apropos><Title/Compiling the GTK Canvas/
      To compile the GTK Canvas, <Ref.Extern
      to="ftp://ftp.mozart-oz.org/pub/mozart/extras/gtk-canvas.tgz"/obtain
      the sources/ and compile them using the standard <<configure; make;
      make install>> procedure.  The configure prefix used here yields
      the value of ?{DIR} above.
</Chapter>
