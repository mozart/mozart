#
#  Author:
#    Denys Duchier <duchier@ps.uni-sb.de>
#
#  Contributor:
#    Leif Kornstaedt <kornstae@ps.uni-sb.de>
#
#  Copyright:
#    Denys Duchier, 1998
#
#  Last change:
#    $Date$ by $Author$
#    $Revision$
#
#  This file is part of Mozart, an implementation 
#  of Oz 3:
#     http://mozart.ps.uni-sb.de
#
#  See the file "LICENSE" or
#     http://mozart.ps.uni-sb.de/LICENSE.html
#  for information on usage and redistribution 
#  of this file, and for a DISCLAIMER OF ALL 
#  WARRANTIES.
#

PREFIX		= @prefix@
VPATH		= @srcdir@
DOCDIR		= $(PREFIX)/share/doc

INSTALL		= @INSTALL@
INSTALL_FILE	= $(INSTALL) -m 444
INSTALL_DIR	= @INSTALL_DIR@
CED		= @CED@

FILES		= ozdoc.dcl ozdoc.dtd ozdoc.doc catalog $(CED) author.db
LIBFILES	= $(addprefix $(DOCDIR)/,$(FILES))

EMACS		= emacs

.PHONY: all bootstrap check install clean veryclean distclean depend

all: $(CED)

bootstrap: all

check:

depend:

Makefile: Makefile.in config.status
	./config.status

install: all $(DOCDIR) $(LIBFILES)

$(DOCDIR):
	$(INSTALL_DIR) $@

$(LIBFILES): $(DOCDIR)/% : %
	$(INSTALL_FILE) $< $@

ozdoc.ced: ozdoc.dtd ozdoc.dcl ced.cat ced.el
	$(EMACS) -q -batch -l ced.el
clean:
	-rm -f *~

veryclean: clean
	-rm -f $(CED)

distclean: veryclean
	-rm -f Makefile ced.el catalog config.log config.status config.cache
